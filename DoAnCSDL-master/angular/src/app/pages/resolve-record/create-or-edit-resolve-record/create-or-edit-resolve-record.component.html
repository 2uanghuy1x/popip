<div bsModal #modal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="createOrEditModal"
  aria-hidden="true">
  <div class="modal-dialog tmss-modal-md">
    <div class="modal-content tmss-modal">
      <div class="tmss-modal-header">
        <h5 class="modal-title">
          <span>{{ "Thêm sự cố" }}</span>
        </h5>
        <button type="button" class="close" aria-label="Close" (click)="hide()">
          <span class="tmss-close" aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="row mt-1">
          <div class="col-6">
            <tmss-text-input [text]="'Biển số xe'" [isDisabled]="true" name="RegisterNo" [(ngModel)]="registerNo"></tmss-text-input>
          </div>
          <div class="col-6">
            <tmss-combobox name="vhcType" [items]="vhcTypes" [text]="'Loại xe'" [(ngModel)]="vhcType"
              (ngModelChange)="changeVhcType($event)" [isDisabled]="resolveProblemId"></tmss-combobox>
          </div>
        </div>

        <div class="row mt-1">
          <div class="col-6">
            <tmss-text-input [isDisabled]="true" name="InGate" [text]="'Ngày vào'" [(ngModel)]="inGateDate">
            </tmss-text-input>
          </div>
          <div class="col-6">
            <tmss-combobox name="vehiclecard" [text]="'Mã thẻ xe'" [items]="cardList" [(ngModel)]="cardId"
              (ngModelChange)="changeVhcCard($event)" [isDisabled]="resolveProblemId"></tmss-combobox>
          </div>
        </div>

        <div class="row mt-1">
          <div class="col-6">
            <tmss-text-input [text]="'Nhân viên'" [isDisabled]="true" name="EmpId" [(ngModel)]="inGateEmpName"></tmss-text-input>
          </div>

          <div class="col-6">
            <tmss-text-input [text]="'Vị trí đỗ'" [isDisabled]="true" name="Location" [(ngModel)]="location"></tmss-text-input>
          </div>
        </div>

        <div class="ui-g-12 text-right mt-1">
          <button class="tmss-btn btn-outline-primary mr-2 mt-1" (click)="addRow()">
            <i class="fa tmss-fa fa-plus"></i>
            <span class="ml-1">Thêm chi tiết</span>
          </button>
          <button class="tmss-btn btn-outline-danger mr-2 mt-1" (click)="deleteRow()" [disabled]="selectedRow.length === 0">
            <i class="fa tmss-fa fa-eraser"></i>
            <span class="ml-1">Xóa</span>
          </button>
        </div>
        <div class="main mt-1">
          <h6 class="card-header">{{ "Chi tiết sự cố" }}</h6>

          <div class="row mt-1">
            <div class="col-12">
              <grid-table [defaultColDef]="defaultColDef" [columnDefs]="resolveRcdDetailColDef"
                (onSearch)="searchProblem($event)" (onChangeSelection)="onChangeSelectionData($event)" (cellEditingStopped)="cellEditingStopped($event)"
                (callBackEvent)="callBackEventAddNew($event)" [rowData]="resolveRcdDetails" [showPagination]="false"
                [height]="'250px'"></grid-table>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer tmss-modal-footer" style="height: 50px;">
        <button type="button" class="tmss-btn tmss-footer-btn btn-outline-primary" (click)="save()">
          <i class="fa tmss-fa fa-save"></i>
          <span class="ml-1">{{ "Lưu" }}</span>
        </button>
        <button type="button" class="tmss-btn tmss-footer-btn btn-outline-danger" (click)="hide()">
          <i class="fa tmss-fa fa-times"></i>
          <span class="ml-1">{{ "Thoát" }}</span>
        </button>
      </div>
    </div>
  </div>
</div>
<app-problem-list-modal #problemListModal (modalSave)="modalSaveProblem($event)"></app-problem-list-modal>
